import{s as e}from"./rolldown-runtime-B6ubh40S.js";import{n as t,t as n}from"../vendor/1-CH-8zZtd.js";import{r}from"../vendor/2-BcTiMYgl.js";import{F as i,I as a,N as o,P as s,ct as c,jn as l,pt as ee,yn as u}from"./index-C8r3tZ1D.js";import{a as d,l as f,o as p,s as m}from"./map-utils-Cv_84Kww.js";function h(e,t){if(e.length===0)return[];if(t>=15)return e.map(e=>({type:`Feature`,properties:{marker:e},geometry:{type:`Point`,coordinates:[e.longitude,e.latitude]}}));let n=[],r=new Set,i=Math.max(.001,.01/2**(t-10));for(let t of e){if(r.has(t.id))continue;let a=[t];r.add(t.id);for(let n of e)r.has(n.id)||Math.sqrt((t.longitude-n.longitude)**2+(t.latitude-n.latitude)**2)<i&&(a.push(n),r.add(n.id));if(a.length===1)n.push({type:`Feature`,properties:{marker:t},geometry:{type:`Point`,coordinates:[t.longitude,t.latitude]}});else{let e=a.reduce((e,t)=>e+t.longitude,0)/a.length,t=a.reduce((e,t)=>e+t.latitude,0)/a.length;n.push({type:`Feature`,properties:{cluster:!0,point_count:a.length,point_count_abbreviated:a.length.toString(),marker:a[0],clusteredPhotos:a},geometry:{type:`Point`,coordinates:[e,t]}})}}return n}var g=t(),_=e(n(),1);const v=e=>{let t=(0,g.c)(28),{photos:n,onPhotoClick:i}=e,a=n.slice(0,6),s=Math.max(0,n.length-6),{t:c,i18n:d}=r(),f;t[0]!==n.length||t[1]!==c?(f=c(`explory.cluster.photos`,{count:n.length}),t[0]=n.length,t[1]=c,t[2]=f):f=t[2];let p;t[3]===f?p=t[4]:(p=(0,_.jsx)(`h3`,{className:`text-text text-sm font-semibold`,children:f}),t[3]=f,t[4]=p);let m;t[5]===c?m=t[6]:(m=c(`explory.cluster.click.details`),t[5]=c,t[6]=m);let h;t[7]===m?h=t[8]:(h=(0,_.jsx)(`div`,{className:`text-text-secondary text-xs`,children:m}),t[7]=m,t[8]=h);let v;t[9]!==p||t[10]!==h?(v=(0,_.jsxs)(`div`,{className:`flex items-center justify-between`,children:[p,h]}),t[9]=p,t[10]=h,t[11]=v):v=t[11];let S;t[12]===i?S=t[13]:(S=(e,t)=>(0,_.jsx)(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{...u.presets.smooth,delay:t*.05},className:`group relative aspect-square overflow-hidden rounded-lg`,children:(0,_.jsxs)(l,{to:`/photos/${e.photo.id}`,target:`_blank`,onClick:t=>{t.stopPropagation(),i?.(e)},className:`block h-full w-full`,children:[(0,_.jsx)(o,{src:e.photo.thumbnailUrl||e.photo.originalUrl,alt:e.photo.title||e.photo.id,thumbHash:e.photo.thumbHash,className:`h-full w-full object-cover transition-transform duration-300 group-hover:scale-110`,rootMargin:`200px`,threshold:.1}),(0,_.jsx)(`div`,{className:`absolute inset-0 bg-black/0 transition-colors duration-300 group-hover:bg-black/20`}),(0,_.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center opacity-0 transition-opacity duration-300 group-hover:opacity-100`,children:(0,_.jsx)(`div`,{className:`rounded-full bg-black/50 p-2 backdrop-blur-sm`,children:(0,_.jsx)(`svg`,{className:`h-4 w-4 text-white`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,_.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14`})})})})]})},e.photo.id),t[12]=i,t[13]=S);let C=a.map(S),w;t[14]!==a||t[15]!==s||t[16]!==c?(w=s>0&&(0,_.jsx)(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{...u.presets.smooth,delay:a.length*.05},className:`bg-fill-secondary flex aspect-square items-center justify-center rounded-lg`,children:(0,_.jsxs)(`div`,{className:`text-center`,children:[(0,_.jsxs)(`div`,{className:`text-text text-lg font-bold`,children:[`+`,s]}),(0,_.jsx)(`div`,{className:`text-text-secondary text-xs`,children:c(`explory.cluster.more`)})]})}),t[14]=a,t[15]=s,t[16]=c,t[17]=w):w=t[17];let T;t[18]!==w||t[19]!==C?(T=(0,_.jsxs)(`div`,{className:`grid grid-cols-3 gap-2`,children:[C,w]}),t[18]=w,t[19]=C,t[20]=T):T=t[20];let E;t[21]!==d||t[22]!==n?(E=n[0]&&(0,_.jsxs)(`div`,{className:`border-border space-y-2 border-t pt-3`,children:[(0,_.jsxs)(`div`,{className:`text-text-secondary flex items-center gap-2 text-xs`,children:[(0,_.jsx)(`i`,{className:`i-mingcute-location-line text-sm`}),(0,_.jsxs)(`span`,{className:`font-mono`,children:[Math.abs(n[0].latitude).toFixed(4),`째`,n[0].latitudeRef||`N`,`,`,` `,Math.abs(n[0].longitude).toFixed(4),`째`,n[0].longitudeRef||`E`]})]}),(()=>{let e=n.map(y).filter(Boolean).map(b).sort(x);if(e.length===0)return null;let t=e[0],r=e.at(-1),i=t.toDateString()===r?.toDateString();return(0,_.jsxs)(`div`,{className:`text-text-secondary flex items-center gap-2 text-xs`,children:[(0,_.jsx)(`i`,{className:`i-mingcute-calendar-line text-sm`}),(0,_.jsx)(`span`,{children:i?t.toLocaleDateString(d.language,{year:`numeric`,month:`short`,day:`numeric`}):`${t.toLocaleDateString(d.language,{month:`short`,day:`numeric`,year:`numeric`})} - ${r?.toLocaleDateString(d.language,{month:`short`,day:`numeric`,year:`numeric`})}`})]})})()]}),t[21]=d,t[22]=n,t[23]=E):E=t[23];let D;return t[24]!==T||t[25]!==E||t[26]!==v?(D=(0,_.jsxs)(`div`,{className:`space-y-3`,children:[v,T,E]}),t[24]=T,t[25]=E,t[26]=v,t[27]=D):D=t[27],D};function y(e){return e.photo.exif?.DateTimeOriginal}function b(e){return new Date(e)}function x(e,t){return e.getTime()-t.getTime()}var S=t();const C=e=>{let t=(0,S.c)(77),{longitude:n,latitude:r,pointCount:o,clusteredPhotos:c,onClusterClick:l}=e,u,d,f,p,h,g,y,b,x,C,E,D,O,k,A,j,M,N,P,F,I;if(t[0]!==r||t[1]!==n||t[2]!==l||t[3]!==o||t[4]!==c){h=c===void 0?[]:c;let e=Math.min(64,Math.max(40,32+Math.log(o)*8));p=m,D=n,O=r,f=s,C=300,E=150,d=a,x=!0,u=ee.div,M=`group relative cursor-pointer`,t[26]===Symbol.for(`react.memo_cache_sentinel`)?(N={scale:0},P={scale:1},F={type:`spring`,stiffness:300,damping:25},I={scale:1.05},g={scale:.95},t[26]=g,t[27]=N,t[28]=P,t[29]=F,t[30]=I):(g=t[26],N=t[27],P=t[28],F=t[29],I=t[30]),t[31]!==r||t[32]!==n||t[33]!==l?(y=()=>l?.(n,r),t[31]=r,t[32]=n,t[33]=l,t[34]=y):y=t[34];let i=e+12,v=e+12;t[35]!==i||t[36]!==v?(b=(0,_.jsx)(`div`,{className:`bg-blue/20 absolute inset-0 animate-pulse rounded-full opacity-60`,style:{width:i,height:v,left:-6,top:-6}}),t[35]=i,t[36]=v,t[37]=b):b=t[37],k=`relative flex items-center justify-center rounded-full border border-white/40 bg-white/95 shadow-lg backdrop-blur-md transition-all duration-300 hover:bg-white hover:shadow-xl dark:border-white/10 dark:bg-black/80 dark:hover:bg-black/90`,t[38]===e?A=t[39]:(A={width:e,height:e},t[38]=e,t[39]=A),j=h.length>0&&(0,_.jsxs)(`div`,{className:`absolute inset-1 overflow-hidden rounded-full`,children:[h.slice(0,4).map(w),(0,_.jsx)(`div`,{className:`from-blue/40 to-indigo/60 absolute inset-0 bg-linear-to-br`})]}),t[0]=r,t[1]=n,t[2]=l,t[3]=o,t[4]=c,t[5]=u,t[6]=d,t[7]=f,t[8]=p,t[9]=h,t[10]=g,t[11]=y,t[12]=b,t[13]=x,t[14]=C,t[15]=E,t[16]=D,t[17]=O,t[18]=k,t[19]=A,t[20]=j,t[21]=M,t[22]=N,t[23]=P,t[24]=F,t[25]=I}else u=t[5],d=t[6],f=t[7],p=t[8],h=t[9],g=t[10],y=t[11],b=t[12],x=t[13],C=t[14],E=t[15],D=t[16],O=t[17],k=t[18],A=t[19],j=t[20],M=t[21],N=t[22],P=t[23],F=t[24],I=t[25];let L;t[40]===Symbol.for(`react.memo_cache_sentinel`)?(L=(0,_.jsx)(`div`,{className:`absolute inset-0 rounded-full bg-linear-to-br from-white/30 to-white/10 dark:from-white/20 dark:to-white/5`}),t[40]=L):L=t[40];let R;t[41]===o?R=t[42]:(R=(0,_.jsx)(`div`,{className:`relative z-10 flex flex-col items-center text-xs`,children:(0,_.jsx)(`span`,{className:`text-text font-bold`,children:o})}),t[41]=o,t[42]=R);let z;t[43]===Symbol.for(`react.memo_cache_sentinel`)?(z=(0,_.jsx)(`div`,{className:`absolute inset-0 rounded-full shadow-inner shadow-black/5`}),t[43]=z):z=t[43];let B;t[44]!==R||t[45]!==k||t[46]!==A||t[47]!==j?(B=(0,_.jsxs)(`div`,{className:k,style:A,children:[j,L,R,z]}),t[44]=R,t[45]=k,t[46]=A,t[47]=j,t[48]=B):B=t[48];let V;t[49]!==u||t[50]!==g||t[51]!==y||t[52]!==b||t[53]!==B||t[54]!==M||t[55]!==N||t[56]!==P||t[57]!==F||t[58]!==I?(V=(0,_.jsxs)(u,{className:M,initial:N,animate:P,transition:F,whileHover:I,whileTap:g,onClick:y,children:[b,B]}),t[49]=u,t[50]=g,t[51]=y,t[52]=b,t[53]=B,t[54]=M,t[55]=N,t[56]=P,t[57]=F,t[58]=I,t[59]=V):V=t[59];let H;t[60]!==d||t[61]!==x||t[62]!==V?(H=(0,_.jsx)(d,{asChild:x,children:V}),t[60]=d,t[61]=x,t[62]=V,t[63]=H):H=t[63];let U;t[64]===h?U=t[65]:(U=(0,_.jsx)(i,{className:`w-80 overflow-hidden border-white/20 bg-white/95 p-0 backdrop-blur-[120px] dark:bg-black/95`,side:`top`,align:`center`,sideOffset:8,children:(0,_.jsx)(`div`,{className:`p-4`,children:(0,_.jsx)(v,{photos:h,onPhotoClick:T})})}),t[64]=h,t[65]=U);let W;t[66]!==f||t[67]!==C||t[68]!==E||t[69]!==H||t[70]!==U?(W=(0,_.jsxs)(f,{openDelay:C,closeDelay:E,children:[H,U]}),t[66]=f,t[67]=C,t[68]=E,t[69]=H,t[70]=U,t[71]=W):W=t[71];let G;return t[72]!==p||t[73]!==D||t[74]!==O||t[75]!==W?(G=(0,_.jsx)(p,{longitude:D,latitude:O,children:W}),t[72]=p,t[73]=D,t[74]=O,t[75]=W,t[76]=G):G=t[76],G};function w(e,t){let n=[{left:`0%`,top:`0%`,width:`50%`,height:`50%`},{left:`50%`,top:`0%`,width:`50%`,height:`50%`},{left:`0%`,top:`50%`,width:`50%`,height:`50%`},{left:`50%`,top:`50%`,width:`50%`,height:`50%`}][t];return(0,_.jsx)(`div`,{className:`absolute opacity-30`,style:n,children:(0,_.jsx)(o,{src:e.photo.thumbnailUrl||e.photo.originalUrl,alt:e.photo.title||e.photo.id,thumbHash:e.photo.thumbHash,className:`h-full w-full object-cover`,rootMargin:`100px`,threshold:.1})},e.photo.id)}function T(e){}var E=t(),D={id:`data`,type:`fill`,paint:{"fill-color":`#0080ff`,"fill-opacity":.5}};const O=e=>{let t=(0,E.c)(5),{data:n,layerStyle:r}=e,i=r===void 0?D:r,a;t[0]===i?a=t[1]:(a=(0,_.jsx)(d,{...i}),t[0]=i,t[1]=a);let o;return t[2]!==n||t[3]!==a?(o=(0,_.jsx)(p,{type:`geojson`,data:n,children:a}),t[2]=n,t[3]=a,t[4]=o):o=t[4],o};var k=t();const A=e=>{let t=(0,k.c)(44),{onGeolocate:n}=e,{current:i}=f(),{t:a}=r(),o;t[0]===i?o=t[1]:(o=()=>{if(i){let e=i.getZoom();i.easeTo({zoom:e+1,duration:300})}},t[0]=i,t[1]=o);let s=o,c;t[2]===i?c=t[3]:(c=()=>{if(i){let e=i.getZoom();i.easeTo({zoom:e-1,duration:300})}},t[2]=i,t[3]=c);let l=c,u;t[4]===i?u=t[5]:(u=()=>{i&&i.easeTo({bearing:0,pitch:0,duration:500})},t[4]=i,t[5]=u);let d=u,p;t[6]!==i||t[7]!==n?(p=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{let{longitude:t,latitude:r}=e.coords;i&&i.flyTo({center:[t,r],zoom:14,duration:1e3}),n?.(t,r)},j,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},t[6]=i,t[7]=n,t[8]=p):p=t[8];let m=p,h,g,v;t[9]===Symbol.for(`react.memo_cache_sentinel`)?(h={opacity:0,x:-20},g={opacity:1,x:0},v={duration:.4,delay:.2},t[9]=h,t[10]=g,t[11]=v):(h=t[9],g=t[10],v=t[11]);let y;t[12]===a?y=t[13]:(y=a(`explory.controls.zoom.in`),t[12]=a,t[13]=y);let b;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(b=(0,_.jsx)(`i`,{className:`i-mingcute-add-line text-text size-5 transition-transform group-hover:scale-110 group-active:scale-95`}),t[14]=b):b=t[14];let x;t[15]!==s||t[16]!==y?(x=(0,_.jsx)(`button`,{type:`button`,onClick:s,className:`group hover:bg-fill-secondary active:bg-fill-tertiary flex h-12 w-12 items-center justify-center transition-colors`,title:y,children:b}),t[15]=s,t[16]=y,t[17]=x):x=t[17];let S;t[18]===Symbol.for(`react.memo_cache_sentinel`)?(S=(0,_.jsx)(`div`,{className:`bg-fill-secondary h-px w-full`}),t[18]=S):S=t[18];let C;t[19]===a?C=t[20]:(C=a(`explory.controls.zoom.out`),t[19]=a,t[20]=C);let w;t[21]===Symbol.for(`react.memo_cache_sentinel`)?(w=(0,_.jsx)(`i`,{className:`i-mingcute-minimize-line text-text size-5 transition-transform group-hover:scale-110 group-active:scale-95`}),t[21]=w):w=t[21];let T;t[22]!==l||t[23]!==C?(T=(0,_.jsx)(`button`,{type:`button`,onClick:l,className:`group hover:bg-fill-secondary active:bg-fill-tertiary flex h-12 w-12 items-center justify-center transition-colors`,title:C,children:w}),t[22]=l,t[23]=C,t[24]=T):T=t[24];let E;t[25]!==x||t[26]!==T?(E=(0,_.jsxs)(`div`,{className:`bg-material-thick border-fill-tertiary flex flex-col overflow-hidden rounded-2xl border shadow-2xl backdrop-blur-[120px]`,children:[x,S,T]}),t[25]=x,t[26]=T,t[27]=E):E=t[27];let D;t[28]===a?D=t[29]:(D=a(`explory.controls.compass`),t[28]=a,t[29]=D);let O;t[30]===Symbol.for(`react.memo_cache_sentinel`)?(O=(0,_.jsx)(`i`,{className:`i-mingcute-navigation-line text-text size-5 transition-transform group-hover:scale-110 group-active:scale-95`}),t[30]=O):O=t[30];let A;t[31]!==d||t[32]!==D?(A=(0,_.jsx)(`div`,{className:`bg-material-thick border-fill-tertiary overflow-hidden rounded-2xl border shadow-2xl backdrop-blur-[120px]`,children:(0,_.jsx)(`button`,{type:`button`,onClick:d,className:`group hover:bg-fill-secondary active:bg-fill-tertiary flex h-12 w-12 items-center justify-center transition-colors`,title:D,children:O})}),t[31]=d,t[32]=D,t[33]=A):A=t[33];let M;t[34]===a?M=t[35]:(M=a(`explory.controls.locate`),t[34]=a,t[35]=M);let N;t[36]===Symbol.for(`react.memo_cache_sentinel`)?(N=(0,_.jsx)(`i`,{className:`i-mingcute-location-fill text-text size-5 transition-transform group-hover:scale-110 group-active:scale-95`}),t[36]=N):N=t[36];let P;t[37]!==m||t[38]!==M?(P=(0,_.jsx)(`div`,{className:`bg-material-thick border-fill-tertiary overflow-hidden rounded-2xl border shadow-2xl backdrop-blur-[120px]`,children:(0,_.jsx)(`button`,{type:`button`,onClick:m,className:`group hover:bg-fill-secondary active:bg-fill-tertiary flex h-12 w-12 items-center justify-center transition-colors`,title:M,children:N})}),t[37]=m,t[38]=M,t[39]=P):P=t[39];let F;return t[40]!==E||t[41]!==A||t[42]!==P?(F=(0,_.jsxs)(ee.div,{className:`absolute bottom-4 left-4 z-40 flex flex-col gap-3`,initial:h,animate:g,transition:v,children:[E,A,P]}),t[40]=E,t[41]=A,t[42]=P,t[43]=F):F=t[43],F};function j(e){console.warn(`Geolocation error:`,e)}var M=t();const N=e=>{let t=(0,M.c)(104),{marker:n,isSelected:r,onClick:u,onClose:d}=e,f=r===void 0?!1:r,p;t[0]!==n||t[1]!==u?(p=()=>{u?.(n)},t[0]=n,t[1]=u,t[2]=p):p=t[2];let h=p,g;t[3]===d?g=t[4]:(g=e=>{e.stopPropagation(),d?.()},t[3]=d,t[4]=g);let v=g,y=n.id,b=n.longitude,x=n.latitude,S=f?!0:void 0,C=f?0:400,w=f?0:100,T,E,D,O,k;t[5]===Symbol.for(`react.memo_cache_sentinel`)?(T={scale:0},E={scale:1},D={type:`spring`,stiffness:400,damping:30},O={scale:1.1},k={scale:.9},t[5]=T,t[6]=E,t[7]=D,t[8]=O,t[9]=k):(T=t[5],E=t[6],D=t[7],O=t[8],k=t[9]);let A;t[10]===f?A=t[11]:(A=f&&(0,_.jsx)(`div`,{className:`bg-blue/30 absolute inset-0 -m-2 animate-pulse rounded-full`}),t[10]=f,t[11]=A);let j=n.photo.thumbnailUrl||n.photo.originalUrl,N=n.photo.title||n.photo.id,I;t[12]!==n.photo.thumbHash||t[13]!==j||t[14]!==N?(I=(0,_.jsx)(o,{src:j,alt:N,thumbHash:n.photo.thumbHash,className:`h-full w-full object-cover opacity-40`,rootMargin:`100px`,threshold:.1}),t[12]=n.photo.thumbHash,t[13]=j,t[14]=N,t[15]=I):I=t[15];let L;t[16]===Symbol.for(`react.memo_cache_sentinel`)?(L=(0,_.jsx)(`div`,{className:`from-green/60 to-emerald/80 dark:from-green/70 dark:to-emerald/90 absolute inset-0 bg-linear-to-br`}),t[16]=L):L=t[16];let R;t[17]===I?R=t[18]:(R=(0,_.jsxs)(`div`,{className:`absolute inset-0 overflow-hidden rounded-full`,children:[I,L]}),t[17]=I,t[18]=R);let z=`relative flex h-10 w-10 items-center justify-center rounded-full border shadow-lg backdrop-blur-md transition-all duration-300 hover:shadow-xl ${f?`border-blue/40 bg-blue/90 shadow-blue/50 dark:border-blue/30 dark:bg-blue/80`:`border-white/40 bg-white/95 hover:bg-white dark:border-white/20 dark:bg-black/80 dark:hover:bg-black/90`}`,B;t[19]===Symbol.for(`react.memo_cache_sentinel`)?(B=(0,_.jsx)(`div`,{className:`absolute inset-0 rounded-full bg-linear-to-br from-white/30 to-white/10 dark:from-white/20 dark:to-white/5`}),t[19]=B):B=t[19];let V=`i-mingcute-camera-line relative z-10 text-lg drop-shadow-sm ${f?`text-white`:`text-gray-700 dark:text-white`}`,H;t[20]===V?H=t[21]:(H=(0,_.jsx)(`i`,{className:V}),t[20]=V,t[21]=H);let U;t[22]===Symbol.for(`react.memo_cache_sentinel`)?(U=(0,_.jsx)(`div`,{className:`absolute inset-0 rounded-full shadow-inner shadow-black/5`}),t[22]=U):U=t[22];let W;t[23]!==z||t[24]!==H?(W=(0,_.jsxs)(`div`,{className:z,children:[B,H,U]}),t[23]=z,t[24]=H,t[25]=W):W=t[25];let G;t[26]!==h||t[27]!==A||t[28]!==R||t[29]!==W?(G=(0,_.jsx)(a,{asChild:!0,children:(0,_.jsxs)(ee.div,{className:`group relative cursor-pointer`,initial:T,animate:E,transition:D,whileHover:O,whileTap:k,onClick:h,children:[A,R,W]})}),t[26]=h,t[27]=A,t[28]=R,t[29]=W,t[30]=G):G=t[30];let te=`w-80 overflow-hidden border-white/20 bg-white/95 p-0 backdrop-blur-[120px] dark:bg-black/95 ${f?`shadow-2xl`:``}`,ne=f?P:void 0,re=f?F:void 0,K;t[31]!==v||t[32]!==f?(K=f&&(0,_.jsx)(c,{className:`absolute top-3 right-3 z-10 size-8`,onClick:v,children:(0,_.jsx)(`i`,{className:`i-mingcute-close-line text-lg`})}),t[31]=v,t[32]=f,t[33]=K):K=t[33];let ie=n.photo.thumbnailUrl||n.photo.originalUrl,ae=n.photo.title||n.photo.id,q;t[34]!==n.photo.thumbHash||t[35]!==ie||t[36]!==ae?(q=(0,_.jsx)(o,{src:ie,alt:ae,thumbHash:n.photo.thumbHash,className:`h-full w-full object-cover`,rootMargin:`200px`,threshold:.1}),t[34]=n.photo.thumbHash,t[35]=ie,t[36]=ae,t[37]=q):q=t[37];let oe;t[38]===Symbol.for(`react.memo_cache_sentinel`)?(oe=(0,_.jsx)(`div`,{className:`absolute inset-0 bg-linear-to-t from-black/30 to-transparent`}),t[38]=oe):oe=t[38];let J;t[39]===q?J=t[40]:(J=(0,_.jsxs)(`div`,{className:`relative h-32 overflow-hidden`,children:[q,oe]}),t[39]=q,t[40]=J);let se=`/photos/${n.photo.id}`,ce=n.photo.title||n.photo.id,le=n.photo.title||n.photo.id,Y;t[41]!==ce||t[42]!==le?(Y=(0,_.jsx)(`h3`,{className:`text-text flex-1 truncate text-sm font-semibold`,title:ce,children:le}),t[41]=ce,t[42]=le,t[43]=Y):Y=t[43];let ue;t[44]===Symbol.for(`react.memo_cache_sentinel`)?(ue=(0,_.jsx)(`i`,{className:`i-mingcute-arrow-right-line text-text-secondary transition-transform group-hover/link:translate-x-0.5`}),t[44]=ue):ue=t[44];let X;t[45]!==se||t[46]!==Y?(X=(0,_.jsxs)(l,{to:se,target:`_blank`,className:`group/link hover:text-blue flex items-center gap-2 transition-colors`,children:[Y,ue]}),t[45]=se,t[46]=Y,t[47]=X):X=t[47];let Z;t[48]===n.photo.exif?Z=t[49]:(Z=n.photo.exif?.DateTimeOriginal&&(0,_.jsxs)(`div`,{className:`text-text-secondary flex items-center gap-2 text-xs`,children:[(0,_.jsx)(`i`,{className:`i-mingcute-calendar-line text-sm`}),(0,_.jsx)(`span`,{children:new Date(n.photo.exif.DateTimeOriginal).toLocaleDateString(`zh-CN`,{year:`numeric`,month:`short`,day:`numeric`})})]}),t[48]=n.photo.exif,t[49]=Z);let de;t[50]===n.photo.exif?de=t[51]:(de=n.photo.exif?.Make&&n.photo.exif?.Model&&(0,_.jsxs)(`div`,{className:`text-text-secondary flex items-center gap-2 text-xs`,children:[(0,_.jsx)(`i`,{className:`i-mingcute-camera-line text-sm`}),(0,_.jsxs)(`span`,{className:`truncate`,children:[n.photo.exif.Make,` `,n.photo.exif.Model]})]}),t[50]=n.photo.exif,t[51]=de);let fe;t[52]===Symbol.for(`react.memo_cache_sentinel`)?(fe=(0,_.jsx)(`i`,{className:`i-mingcute-location-line text-sm`}),t[52]=fe):fe=t[52];let Q;t[53]===n.latitude?Q=t[54]:(Q=Math.abs(n.latitude).toFixed(4),t[53]=n.latitude,t[54]=Q);let pe;t[55]===Q?pe=t[56]:(pe=(0,_.jsxs)(`span`,{children:[Q,`째`]}),t[55]=Q,t[56]=pe);let me=n.latitudeRef||`N`,he;t[57]===me?he=t[58]:(he=(0,_.jsx)(`span`,{children:me}),t[57]=me,t[58]=he);let ge;t[59]===Symbol.for(`react.memo_cache_sentinel`)?(ge=(0,_.jsx)(`span`,{children:`, `}),t[59]=ge):ge=t[59];let _e;t[60]===n.longitude?_e=t[61]:(_e=Math.abs(n.longitude).toFixed(4),t[60]=n.longitude,t[61]=_e);let ve;t[62]===_e?ve=t[63]:(ve=(0,_.jsxs)(`span`,{children:[_e,`째`]}),t[62]=_e,t[63]=ve);let ye=n.longitudeRef||`E`,be;t[64]===ye?be=t[65]:(be=(0,_.jsx)(`span`,{children:ye}),t[64]=ye,t[65]=be);let xe;t[66]!==pe||t[67]!==he||t[68]!==ve||t[69]!==be?(xe=(0,_.jsxs)(`div`,{className:`flex items-center gap-2`,children:[fe,(0,_.jsxs)(`span`,{className:`font-mono`,children:[pe,he,ge,ve,be]})]}),t[66]=pe,t[67]=he,t[68]=ve,t[69]=be,t[70]=xe):xe=t[70];let Se;t[71]!==n.altitude||t[72]!==n.altitudeRef?(Se=n.altitude!==void 0&&(0,_.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,_.jsx)(`i`,{className:`i-mingcute-mountain-2-line text-sm`}),(0,_.jsxs)(`span`,{className:`font-mono`,children:[(0,_.jsx)(`span`,{children:n.altitudeRef===`Below Sea Level`?`-`:``}),(0,_.jsxs)(`span`,{children:[Math.abs(n.altitude).toFixed(1),`m`]})]})]}),t[71]=n.altitude,t[72]=n.altitudeRef,t[73]=Se):Se=t[73];let Ce;t[74]!==xe||t[75]!==Se?(Ce=(0,_.jsxs)(`div`,{className:`text-text-secondary space-y-1 text-xs`,children:[xe,Se]}),t[74]=xe,t[75]=Se,t[76]=Ce):Ce=t[76];let we;t[77]!==Z||t[78]!==de||t[79]!==Ce?(we=(0,_.jsxs)(`div`,{className:`space-y-2`,children:[Z,de,Ce]}),t[77]=Z,t[78]=de,t[79]=Ce,t[80]=we):we=t[80];let Te;t[81]!==X||t[82]!==we?(Te=(0,_.jsxs)(`div`,{className:`space-y-3 p-4`,children:[X,we]}),t[81]=X,t[82]=we,t[83]=Te):Te=t[83];let Ee;t[84]!==K||t[85]!==J||t[86]!==Te?(Ee=(0,_.jsxs)(`div`,{className:`relative`,children:[K,J,Te]}),t[84]=K,t[85]=J,t[86]=Te,t[87]=Ee):Ee=t[87];let De;t[88]!==te||t[89]!==ne||t[90]!==re||t[91]!==Ee?(De=(0,_.jsx)(i,{className:te,side:`top`,align:`center`,sideOffset:8,onPointerDownOutside:ne,onEscapeKeyDown:re,children:Ee}),t[88]=te,t[89]=ne,t[90]=re,t[91]=Ee,t[92]=De):De=t[92];let $;t[93]!==G||t[94]!==De||t[95]!==S||t[96]!==C||t[97]!==w?($=(0,_.jsxs)(s,{open:S,openDelay:C,closeDelay:w,children:[G,De]}),t[93]=G,t[94]=De,t[95]=S,t[96]=C,t[97]=w,t[98]=$):$=t[98];let Oe;return t[99]!==n.id||t[100]!==n.latitude||t[101]!==n.longitude||t[102]!==$?(Oe=(0,_.jsx)(m,{longitude:b,latitude:x,children:$},y),t[99]=n.id,t[100]=n.latitude,t[101]=n.longitude,t[102]=$,t[103]=Oe):Oe=t[103],Oe};function P(e){return e.preventDefault()}function F(e){return e.preventDefault()}const I={longitude:-122.4,latitude:37.8,zoom:14},L=[],R={width:`100%`,height:`100%`};export{A as a,h as c,N as i,R as n,O as o,I as r,C as s,L as t};