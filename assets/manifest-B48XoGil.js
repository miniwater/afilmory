import{s as e}from"./rolldown-runtime-B6ubh40S.js";import{a as t,n,t as r}from"../vendor/1-CH-8zZtd.js";import{Cn as i,T as a,lt as o}from"./index-BFysJf22.js";var s=n(),c=e(t(),1),l=e(r(),1),u=e=>{let t=(0,s.c)(8),{data:n}=e,r,i;if(t[0]!==n){let e=JSON.stringify(n,null,2),a=g;i=`text-sm leading-6 text-zinc-300`,r=a(e),t[0]=n,t[1]=r,t[2]=i}else r=t[1],i=t[2];let a;t[3]===r?a=t[4]:(a=(0,l.jsx)(`code`,{dangerouslySetInnerHTML:{__html:r}}),t[3]=r,t[4]=a);let o;return t[5]!==i||t[6]!==a?(o=(0,l.jsx)(`pre`,{className:i,children:a}),t[5]=i,t[6]=a,t[7]=o):o=t[7],o},d=e=>{let t=(0,s.c)(13),{label:n,value:r,icon:i}=e,a;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(a=(0,l.jsx)(`div`,{className:`absolute inset-0 bg-linear-to-br from-zinc-800/0 via-zinc-800/5 to-zinc-800/10`}),t[0]=a):a=t[0];let o;t[1]===i?o=t[2]:(o=(0,l.jsx)(`div`,{className:`text-3xl`,children:i}),t[1]=i,t[2]=o);let c;t[3]===r?c=t[4]:(c=(0,l.jsx)(`div`,{className:`text-2xl font-bold text-zinc-100`,children:r}),t[3]=r,t[4]=c);let u;t[5]===n?u=t[6]:(u=(0,l.jsx)(`div`,{className:`text-sm text-zinc-400`,children:n}),t[5]=n,t[6]=u);let d;t[7]!==c||t[8]!==u?(d=(0,l.jsxs)(`div`,{className:`text-right`,children:[c,u]}),t[7]=c,t[8]=u,t[9]=d):d=t[9];let f;return t[10]!==o||t[11]!==d?(f=(0,l.jsxs)(`div`,{className:`group relative overflow-hidden rounded-xl border border-zinc-800 bg-zinc-900/50 p-6 backdrop-blur-sm transition-all hover:border-zinc-700 hover:bg-zinc-900/80`,children:[a,(0,l.jsx)(`div`,{className:`relative`,children:(0,l.jsxs)(`div`,{className:`flex items-center justify-between`,children:[o,d]})})]}),t[10]=o,t[11]=d,t[12]=f):f=t[12],f},f=e=>{let t=(0,s.c)(24),{data:n}=e,r=n.length,i=n.reduce(_,0),a;t[0]===n?a=t[1]:(a=new Set,n.forEach(e=>{e.tags?.forEach(e=>a.add(e))}),t[0]=n,t[1]=a);let o;t[2]===n?o=t[3]:(o=new Set,n.forEach(e=>{e.exif?.Make&&e.exif?.Model&&o.add(`${e.exif.Make} ${e.exif.Model}`)}),t[2]=n,t[3]=o);let c=i/1073741824,u;t[4]===c?u=t[5]:(u=c.toFixed(2),t[4]=c,t[5]=u);let f;t[6]!==o.size||t[7]!==u||t[8]!==r||t[9]!==a.size?(f={totalPhotos:r,totalSize:u,uniqueTags:a.size,uniqueCameras:o.size},t[6]=o.size,t[7]=u,t[8]=r,t[9]=a.size,t[10]=f):f=t[10];let p=f,m;t[11]===p.totalPhotos?m=t[12]:(m=(0,l.jsx)(d,{label:`Photos`,value:p.totalPhotos,icon:`üì∏`}),t[11]=p.totalPhotos,t[12]=m);let h=`${p.totalSize} GB`,g;t[13]===h?g=t[14]:(g=(0,l.jsx)(d,{label:`Storage`,value:h,icon:`üíæ`}),t[13]=h,t[14]=g);let v;t[15]===p.uniqueTags?v=t[16]:(v=(0,l.jsx)(d,{label:`Tags`,value:p.uniqueTags,icon:`üè∑Ô∏è`}),t[15]=p.uniqueTags,t[16]=v);let y;t[17]===p.uniqueCameras?y=t[18]:(y=(0,l.jsx)(d,{label:`Cameras`,value:p.uniqueCameras,icon:`üì∑`}),t[17]=p.uniqueCameras,t[18]=y);let b;return t[19]!==m||t[20]!==g||t[21]!==v||t[22]!==y?(b=(0,l.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 lg:grid-cols-4`,children:[m,g,v,y]}),t[19]=m,t[20]=g,t[21]=v,t[22]=y,t[23]=b):b=t[23],b},p=e=>{let t=(0,s.c)(37),{photo:n,index:r}=e,i;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,l.jsx)(`div`,{className:`absolute inset-0 bg-linear-to-br from-zinc-800/0 via-zinc-800/5 to-zinc-800/10 opacity-0 transition-opacity group-hover:opacity-100`}),t[0]=i):i=t[0];let a;t[1]!==n.thumbnailUrl||t[2]!==n.title?(a=(0,l.jsx)(`div`,{className:`flex-shrink-0`,children:n.thumbnailUrl?(0,l.jsxs)(`div`,{className:`relative overflow-hidden rounded-lg`,children:[(0,l.jsx)(`img`,{src:n.thumbnailUrl,alt:n.title,className:`h-16 w-16 object-cover transition-transform group-hover:scale-110`}),(0,l.jsx)(`div`,{className:`absolute inset-0 bg-linear-to-t from-black/20 to-transparent`})]}):(0,l.jsx)(`div`,{className:`flex h-16 w-16 items-center justify-center rounded-lg bg-zinc-800 text-zinc-600`,children:(0,l.jsx)(`span`,{className:`text-xl`,children:`üì∑`})})}),t[1]=n.thumbnailUrl,t[2]=n.title,t[3]=a):a=t[3];let o=r+1,c;t[4]===o?c=t[5]:(c=(0,l.jsx)(`span`,{className:`inline-flex h-6 w-8 items-center justify-center rounded bg-zinc-800 font-mono text-xs text-zinc-400`,children:o}),t[4]=o,t[5]=c);let u;t[6]===n.title?u=t[7]:(u=(0,l.jsx)(`h3`,{className:`truncate font-medium text-zinc-100`,children:n.title}),t[6]=n.title,t[7]=u);let d;t[8]!==c||t[9]!==u?(d=(0,l.jsxs)(`div`,{className:`flex items-center gap-3`,children:[c,u]}),t[8]=c,t[9]=u,t[10]=d):d=t[10];let f;t[11]===Symbol.for(`react.memo_cache_sentinel`)?(f=(0,l.jsx)(`span`,{className:`text-zinc-500`,children:`üìê`}),t[11]=f):f=t[11];let p;t[12]!==n.height||t[13]!==n.width?(p=(0,l.jsxs)(`div`,{className:`flex items-center gap-2`,children:[f,(0,l.jsxs)(`span`,{className:`text-zinc-300`,children:[n.width,` √ó `,n.height]})]}),t[12]=n.height,t[13]=n.width,t[14]=p):p=t[14];let m;t[15]===Symbol.for(`react.memo_cache_sentinel`)?(m=(0,l.jsx)(`span`,{className:`text-zinc-500`,children:`üì¶`}),t[15]=m):m=t[15];let h=n.size/1048576,g;t[16]===h?g=t[17]:(g=h.toFixed(1),t[16]=h,t[17]=g);let _;t[18]===g?_=t[19]:(_=(0,l.jsxs)(`div`,{className:`flex items-center gap-2`,children:[m,(0,l.jsxs)(`span`,{className:`text-zinc-300`,children:[g,` MB`]})]}),t[18]=g,t[19]=_);let y;t[20]===Symbol.for(`react.memo_cache_sentinel`)?(y=(0,l.jsx)(`span`,{className:`text-zinc-500`,children:`üì∑`}),t[20]=y):y=t[20];let b=n.exif?.Make,x=n.exif?.Model,S;t[21]!==b||t[22]!==x?(S=(0,l.jsxs)(`div`,{className:`flex items-center gap-2`,children:[y,(0,l.jsxs)(`span`,{className:`truncate text-zinc-300`,children:[b,` `,x]})]}),t[21]=b,t[22]=x,t[23]=S):S=t[23];let C;t[24]!==_||t[25]!==S||t[26]!==p?(C=(0,l.jsxs)(`div`,{className:`mt-4 grid grid-cols-2 gap-x-6 gap-y-3 text-sm lg:grid-cols-3`,children:[p,_,S]}),t[24]=_,t[25]=S,t[26]=p,t[27]=C):C=t[27];let w;t[28]===n.tags?w=t[29]:(w=n.tags&&n.tags.length>0&&(0,l.jsxs)(`div`,{className:`mt-4 flex flex-wrap gap-2`,children:[n.tags.slice(0,3).map(v),n.tags.length>3&&(0,l.jsxs)(`span`,{className:`inline-flex items-center rounded-full bg-zinc-800 px-2.5 py-1 text-xs text-zinc-400`,children:[`+`,n.tags.length-3,` more`]})]}),t[28]=n.tags,t[29]=w);let T;t[30]!==C||t[31]!==w||t[32]!==d?(T=(0,l.jsxs)(`div`,{className:`min-w-0 flex-1`,children:[d,C,w]}),t[30]=C,t[31]=w,t[32]=d,t[33]=T):T=t[33];let E;return t[34]!==T||t[35]!==a?(E=(0,l.jsxs)(`div`,{className:`group relative overflow-hidden rounded-xl border border-zinc-800 bg-zinc-900/30 backdrop-blur-sm transition-all hover:border-zinc-700 hover:bg-zinc-900/50`,children:[i,(0,l.jsx)(`div`,{className:`relative p-6`,children:(0,l.jsxs)(`div`,{className:`flex items-start gap-4`,children:[a,T]})})]}),t[34]=T,t[35]=a,t[36]=E):E=t[36],E};const m=()=>{let e=(0,s.c)(36),[t,n]=(0,c.useState)(``),[r,d]=(0,c.useState)(`stats`),p;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(p=i.getPhotos(),e[0]=p):p=e[0];let m=p,h;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(h={version:`v6`,data:m},e[1]=h):h=e[1];let g=h,_;bb0:{if(!t){_=m;break bb0}let n;if(e[2]!==t){let r=t.toLowerCase();n=m.filter(e=>e.title?.toLowerCase().includes(r)||e.description?.toLowerCase().includes(r)||e.tags?.some(e=>e.toLowerCase().includes(r))||e.exif?.Make?.toLowerCase().includes(r)||e.exif?.Model?.toLowerCase().includes(r)),e[2]=t,e[3]=n}else n=e[3];_=n}let v=_,b;e[4]===Symbol.for(`react.memo_cache_sentinel`)?(b=()=>{let e=JSON.stringify(g,null,2),t=new Blob([e],{type:`application/json`}),n=URL.createObjectURL(t),r=document.createElement(`a`);r.href=n,r.download=`photos-manifest.json`,document.body.append(r),r.click(),r.remove(),URL.revokeObjectURL(n)},e[4]=b):b=e[4];let x=b,S,C;e[5]===Symbol.for(`react.memo_cache_sentinel`)?(S=(0,l.jsx)(`div`,{className:`fixed inset-0 bg-linear-to-br from-zinc-900 via-black to-zinc-900`}),C=(0,l.jsx)(`div`,{className:`fixed inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-transparent to-transparent`}),e[5]=S,e[6]=C):(S=e[5],C=e[6]);let w;e[7]===Symbol.for(`react.memo_cache_sentinel`)?(w=(0,l.jsx)(`div`,{className:`flex items-center gap-3`,children:(0,l.jsx)(`h1`,{className:`text-xl font-semibold text-zinc-100`,children:`Afilmory Manifest`})}),e[7]=w):w=e[7];let T=r===`stats`?`primary`:`ghost`,E;e[8]===Symbol.for(`react.memo_cache_sentinel`)?(E=()=>d(`stats`),e[8]=E):E=e[8];let D;e[9]===T?D=e[10]:(D=(0,l.jsx)(o,{variant:T,size:`sm`,onClick:E,className:`h-8 text-xs`,children:`Overview`}),e[9]=T,e[10]=D);let O=r===`raw`?`primary`:`ghost`,k;e[11]===Symbol.for(`react.memo_cache_sentinel`)?(k=()=>d(`raw`),e[11]=k):k=e[11];let A;e[12]===O?A=e[13]:(A=(0,l.jsx)(o,{variant:O,size:`sm`,onClick:k,className:`h-8 text-xs`,children:`Raw Data`}),e[12]=O,e[13]=A);let j;e[14]!==A||e[15]!==D?(j=(0,l.jsxs)(`div`,{className:`flex items-center gap-6`,children:[w,(0,l.jsxs)(`div`,{className:`flex items-center rounded-lg bg-zinc-900/50 p-1`,children:[D,A]})]}),e[14]=A,e[15]=D,e[16]=j):j=e[16];let M;e[17]===Symbol.for(`react.memo_cache_sentinel`)?(M=e=>n(e.target.value),e[17]=M):M=e[17];let N;e[18]===t?N=e[19]:(N=(0,l.jsx)(`input`,{type:`text`,placeholder:`Search photos, tags, cameras...`,value:t,onChange:M,className:`w-64 rounded-lg border border-zinc-800 bg-zinc-900/50 px-4 py-2 text-sm text-zinc-100 placeholder-zinc-500 backdrop-blur-sm transition-colors focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none`}),e[18]=t,e[19]=N);let P;e[20]===Symbol.for(`react.memo_cache_sentinel`)?(P=(0,l.jsx)(`div`,{className:`absolute top-1/2 right-3 -translate-y-1/2 text-zinc-500`,children:`üîç`}),e[20]=P):P=e[20];let F;e[21]===N?F=e[22]:(F=(0,l.jsxs)(`div`,{className:`relative`,children:[N,P]}),e[21]=N,e[22]=F);let I;e[23]===Symbol.for(`react.memo_cache_sentinel`)?(I=(0,l.jsx)(o,{variant:`primary`,size:`sm`,onClick:x,className:`h-9 bg-linear-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400`,children:`Export JSON`}),e[23]=I):I=e[23];let L;e[24]===F?L=e[25]:(L=(0,l.jsxs)(`div`,{className:`flex items-center gap-4`,children:[F,I]}),e[24]=F,e[25]=L);let R;e[26]!==j||e[27]!==L?(R=(0,l.jsx)(`div`,{className:`sticky top-0 z-50 border-b border-zinc-800/50 bg-black/80 backdrop-blur-xl`,children:(0,l.jsx)(`div`,{className:`mx-auto max-w-7xl px-6`,children:(0,l.jsxs)(`div`,{className:`flex h-16 items-center justify-between`,children:[j,L]})})}),e[26]=j,e[27]=L,e[28]=R):R=e[28];let z;e[29]!==v||e[30]!==t||e[31]!==r?(z=(0,l.jsx)(`div`,{className:`relative mx-auto max-w-7xl px-6 py-8`,children:r===`stats`?(0,l.jsxs)(`div`,{className:`space-y-8`,children:[(0,l.jsxs)(`div`,{children:[(0,l.jsx)(`h2`,{className:`mb-6 text-lg font-medium text-zinc-300`,children:`Overview`}),(0,l.jsx)(f,{data:v})]}),(0,l.jsxs)(`div`,{children:[(0,l.jsxs)(`div`,{className:`mb-6 flex items-center justify-between`,children:[(0,l.jsxs)(`h2`,{className:`text-lg font-medium text-zinc-300`,children:[`Photos (`,v.length.toLocaleString(),`)`]}),t&&(0,l.jsxs)(`div`,{className:`text-sm text-zinc-400`,children:[`Filtered from `,m.length.toLocaleString(),` total`]})]}),(0,l.jsx)(a,{rootClassName:`h-[600px]`,children:(0,l.jsx)(`div`,{className:`space-y-4 pr-4`,children:v.map(y)})})]})]}):(0,l.jsxs)(`div`,{children:[(0,l.jsxs)(`div`,{className:`mb-6`,children:[(0,l.jsx)(`h2`,{className:`text-lg font-medium text-zinc-300`,children:`Raw Manifest Data`}),(0,l.jsx)(`p`,{className:`mt-1 text-sm text-zinc-500`,children:`Complete JSON manifest in structured format`})]}),(0,l.jsxs)(`div`,{className:`overflow-hidden rounded-xl border border-zinc-800 bg-zinc-900/30 backdrop-blur-sm`,children:[(0,l.jsx)(`div`,{className:`border-b border-zinc-800 bg-zinc-900/50 px-6 py-4`,children:(0,l.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,l.jsxs)(`div`,{className:`flex gap-1.5`,children:[(0,l.jsx)(`div`,{className:`h-3 w-3 rounded-full bg-red-500`}),(0,l.jsx)(`div`,{className:`h-3 w-3 rounded-full bg-yellow-500`}),(0,l.jsx)(`div`,{className:`h-3 w-3 rounded-full bg-green-500`})]}),(0,l.jsx)(`span`,{className:`font-mono text-sm text-zinc-400`,children:`photos-manifest.json`})]})}),(0,l.jsx)(a,{rootClassName:`h-[700px]`,children:(0,l.jsx)(`div`,{className:`p-6`,children:(0,l.jsx)(u,{data:t?{version:`v6`,data:v}:g})})})]})]})}),e[29]=v,e[30]=t,e[31]=r,e[32]=z):z=e[32];let B;return e[33]!==R||e[34]!==z?(B=(0,l.jsxs)(`div`,{className:`min-h-screen bg-black`,children:[S,C,(0,l.jsxs)(`div`,{className:`relative`,children:[R,z]})]}),e[33]=R,e[34]=z,e[35]=B):B=e[35],B};function h(e){let t;return t=e.startsWith(`"`)?e.endsWith(`:`)?`text-blue-400`:`text-emerald-400`:/true|false/.test(e)?`text-purple-400`:/null/.test(e)?`text-red-400`:`text-orange-400`,`<span class="${t}">${e}</span>`}function g(e){return e.replaceAll(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,h)}function _(e,t){return e+(t.size||0)}function v(e,t){return(0,l.jsx)(`span`,{className:`inline-flex items-center rounded-full bg-blue-500/10 px-2.5 py-1 text-xs font-medium text-blue-400 ring-1 ring-blue-500/20`,children:e},t)}function y(e,t){return(0,l.jsx)(p,{photo:e,index:t},e.id)}export{m as Component};